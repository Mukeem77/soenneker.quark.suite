<Bar Mode="BarMode.VerticalInline"
    CollapseMode="BarCollapseMode.Small"
    Breakpoint="BreakpointType.Desktop"
    NavigationBreakpoint="BreakpointType.Tablet"
    Class="navbar-slim side-nav">
    <Div class="d-flex align-items-center w-100" style="gap: .5rem; padding: 0.5rem 0;">
        <BarToggler>
            <BarIcon Name="bars"/>
        </BarToggler>
        <BarBrand>
            <BarItem>
                <BarLink To="./" Class="navbar-brand">
                    <img src="https://user-images.githubusercontent.com/4441470/224455560-91ed3ee7-f510-4041-a8d2-3fc093025112.png" alt="Quark Suite" style="height: 1.5rem; margin-right: 0.5rem;" />
                    <span style="font-size: 1.1rem; font-weight: 600;">Quark Suite</span>
                </BarLink>
            </BarItem>
        </BarBrand>
    </Div>

    <BarMenu>
        <BarStart>
            <BarItem>
                <BarLink To="">
                    <BarIcon Name="home"/>
                    Home
                </BarLink>
            </BarItem>
            <BarItem>
                <BarDropdown>
                    <BarDropdownToggle>
                        <BarIcon Name="wrench"/>
                        Components
                    </BarDropdownToggle>
                    <BarDropdownMenu>
                        <BarDropdownItem To="buttons">Buttons</BarDropdownItem>
                        <BarDropdownItem To="alerts">Alerts</BarDropdownItem>
                        <BarDropdownItem To="badges">Badges</BarDropdownItem>
                        <BarDropdownItem To="breadcrumbs">Breadcrumbs</BarDropdownItem>
                        <BarDropdownItem To="cards">Cards</BarDropdownItem>
                        <BarDropdownItem To="dropdowns">Dropdowns</BarDropdownItem>
                        <BarDropdownItem To="icons">Icons</BarDropdownItem>
                        <BarDropdownItem To="listgroups">List group</BarDropdownItem>
                        <BarDropdownItem To="modals">Modals</BarDropdownItem>
                        <BarDropdownItem To="offcanvas">Offcanvas</BarDropdownItem>
                        <BarDropdownItem To="paginations">Paginations</BarDropdownItem>
                        <BarDropdownItem To="progresses">Progress bars</BarDropdownItem>
                        <BarDropdownItem To="tabs">Tabs</BarDropdownItem>
                        <BarDropdownItem To="treeview">TreeView</BarDropdownItem>
                        <BarDropdownItem To="typography">Typography</BarDropdownItem>
                    </BarDropdownMenu>
                </BarDropdown>
            </BarItem>
            <BarItem>
                <BarDropdown>
                    <BarDropdownToggle>
                        <BarIcon Name="edit"/>
                        Forms
                    </BarDropdownToggle>
                    <BarDropdownMenu>
                        <BarDropdownItem To="textedits">TextEdits</BarDropdownItem>
                        <BarDropdownItem To="memoedits">MemoEdits</BarDropdownItem>
                        <BarDropdownItem To="dateedits">DateEdits</BarDropdownItem>
                        <BarDropdownItem To="datepickers">DatePickers</BarDropdownItem>
                        <BarDropdownItem To="checks">Checks</BarDropdownItem>
                        <BarDropdownItem To="radios">Radios</BarDropdownItem>
                        <BarDropdownItem To="switches">Switches</BarDropdownItem>
                        <BarDropdownItem To="sliders">Sliders</BarDropdownItem>
                        <BarDropdownItem To="dropdowns">Dropdowns</BarDropdownItem>
                    </BarDropdownMenu>
                </BarDropdown>
            </BarItem>
@*             <BarItem>
                <BarDropdown>
                    <BarDropdownToggle>
                        <BarIcon Name="th"/>
                        Layout
                    </BarDropdownToggle>
                    <BarDropdownMenu>
                        <BarDropdownItem To="layouts">Layouts</BarDropdownItem>
                        <BarDropdownItem To="layout-demo">Layout Demo</BarDropdownItem>
                        <BarDropdownItem To="containers">Containers</BarDropdownItem>
                        <BarDropdownItem To="columns">Columns</BarDropdownItem>
                    </BarDropdownMenu>
                </BarDropdown>
            </BarItem> *@
            <BarItem>
                <BarDropdown>
                    <BarDropdownToggle>
                        <BarIcon Name="table"/>
                        Tables
                    </BarDropdownToggle>
                    <BarDropdownMenu>
                        <BarDropdownItem To="tables/basic">Basic Demo</BarDropdownItem>
                        <BarDropdownItem To="tables/loading-demo">Loading Demo</BarDropdownItem>
                        <BarDropdownItem To="tables/modern-demo">Modern Demo</BarDropdownItem>
                        <BarDropdownItem To="tables/bar-layout-demo">Bar Layout Demo</BarDropdownItem>
                        <BarDropdownItem To="tables/topbar">TopBar Demo</BarDropdownItem>
                        <BarDropdownItem To="tables/paged-result-demo">PagedResult Demo</BarDropdownItem>
                        <BarDropdownItem To="tables/request-data-options-demo">RequestDataOptions Demo</BarDropdownItem>
                    </BarDropdownMenu>
                </BarDropdown>
            </BarItem>
@*             <BarItem>
                <BarDropdown>
                    <BarDropdownToggle>
                        <BarIcon Name="flask"/>
                        Utilities
                    </BarDropdownToggle>
                    <BarDropdownMenu>
                        <BarDropdownItem To="borders">Borders</BarDropdownItem>
                        <BarDropdownItem To="flex">Flex</BarDropdownItem>
                        <BarDropdownItem To="grid">Grid</BarDropdownItem>
                        <BarDropdownItem To="layout-demo">Layout</BarDropdownItem>
                        <BarDropdownItem To="position">Position</BarDropdownItem>
                        <BarDropdownItem To="shadows">Shadows</BarDropdownItem>
                        <BarDropdownItem To="sizing">Sizing</BarDropdownItem>
                        <BarDropdownItem To="vertical-align">Vertical align</BarDropdownItem>
                    </BarDropdownMenu>
                </BarDropdown>
            </BarItem> *@
        </BarStart>
    </BarMenu>
</Bar>

<style>
    .navbar-slim {
        min-height: 3rem !important;
        padding: 0.25rem 0 !important;
    }
    
    .navbar-slim .navbar-brand {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: #212529;
        font-weight: 600;
    }
    
    .navbar-slim .navbar-brand:hover {
        color: #0d6efd;
        text-decoration: none;
    }
    
    .navbar-slim .bar-toggler {
        padding: 0.25rem 0.5rem;
    }
    
    .navbar-slim .bar-item {
        padding: 0.25rem 0;
    }
    
    .navbar-slim .bar-link {
        padding: 0.375rem 0.75rem;
        font-size: 0.9rem;
    }

    /* Side navigation refinements */
    .side-nav {
        width: 280px;
        background-color: var(--bs-body-bg);
        border-right: 1px solid var(--bs-border-color);
        box-shadow: 0 0 0 1px rgba(0,0,0,0.02), 0 10px 20px rgba(0,0,0,0.04);
    }

    .side-nav .bar-item {
        padding: 0.125rem 0;
    }

    .side-nav .bar-link {
        display: flex;
        align-items: center;
        gap: .5rem;
        color: var(--bs-body-color);
        border-radius: .5rem;
        transition: background-color .15s ease, color .15s ease;
    }

    .side-nav .bar-link:hover,
    .side-nav .bar-link.active {
        background-color: rgba(13, 110, 253, 0.08);
        color: var(--bs-primary);
        text-decoration: none;
    }

    /* Dropdown menu polish */
    .side-nav .dropdown-menu {
        background-color: var(--bs-body-bg);
        border: 1px solid var(--bs-border-color);
        border-radius: .5rem;
        box-shadow: 0 8px 24px rgba(0,0,0,.08);
        padding: .25rem;
    }

    .side-nav .dropdown-item {
        border-radius: .375rem;
        padding: .375rem .5rem;
    }

    .side-nav .dropdown-item:hover,
    .side-nav .dropdown-item:focus {
        background-color: rgba(13, 110, 253, 0.08);
        color: var(--bs-primary);
    }
</style>

@code {
    // Dropdown states are now managed internally by the components
}